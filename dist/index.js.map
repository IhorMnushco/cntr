{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/cntr.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","_country_json__WEBPACK_IMPORTED_MODULE_0__","$","jQuery","fn","cntr","options","extend","countryAll","delete","flagInInput","flagInSelect","geo","url","getIso","response","country","iso","inputCountryName","inputPhoneName","list","search","select","body","$this","this","undefined","length","console","warn","error","phoneInput","countryFlagsBlock","countryInput","currentCountry","data","addClass","wrap","wrapBlock","parent","append","countryList","find","on","event","hasClass","scrollElement","String","fromCharCode","keyCode","toLowerCase","animate","scrollTop","offsetTop","preventDefault","removeClass","flag","each","allCountries","indexOf","addCountryListItem","check","checkForDelete","createCountryList","countryListItems","css","height","toggleClass","is","target","has","closest","click","changeValue","element","attribute","val","attr","checkGeo","html","text","countryName","countryCode","phoneCode","e","hide","show","originalEvent","charCode","focus","countryFound","window","sessionStorage","getItem","ajax","method","dataType","success","setItem","prop","offset","top"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","'use strict'\r\n\r\nimport allCountries from './country.json'\r\n\r\n(function ($) {\r\n  jQuery.fn.cntr = function (options) {\r\n    options = $.extend({\r\n      countryAll: [],\r\n      delete: false,\r\n      flagInInput: false,\r\n      flagInSelect: false,\r\n      geo: {\r\n        url: 'https://api.sypexgeo.net/',\r\n        getIso: function (response) {\r\n          return response.country.iso\r\n        }\r\n      },\r\n      inputCountryName: 'country',\r\n      inputPhoneName: 'phone',\r\n      list: false,\r\n      search: false,\r\n      select: false\r\n    }, options)\r\n\r\n    const body = $('body')\r\n    let $this = $(this)\r\n\r\n    if ($this !== undefined && $this.length > 1) {\r\n      console.warn($this)\r\n      console.error(`CNTR: Please use one one selector, not more, in one connection\r\n        You use ` + $this.length + ` selectors`)\r\n      return false\r\n    }\r\n\r\n    let currentCountry = $this.data('current')\r\n    let phoneInput, countryFlagsBlock, countryInput\r\n\r\n    $this.addClass('cntr-in')\r\n      .wrap('<div class=\"cntr-bl\"></div>')\r\n\r\n    const wrapBlock = $this.parent()\r\n    wrapBlock.append('<div class=\"cntr-ls\"><ul></ul></div>')\r\n    const countryList = wrapBlock.find('.cntr-ls').find('ul')\r\n\r\n    if (!options.search) {\r\n      wrapBlock.append('<input type=\"hidden\" name=\"' + options.inputCountryName + '\">')\r\n      countryInput = wrapBlock.find('input[name=\"' + options.inputCountryName + '\"]')\r\n\r\n      body.on('keydown', function (event) {\r\n        if (wrapBlock.hasClass('active') && !(event.key.search(/^[^\\d+=()[\\]{}\\\\/^$|?*!@#%:;&,_.'\"\\s]+$/) === -1)) {\r\n          let scrollElement = wrapBlock.find('.cntr-ls')\r\n            .find('li[data-search^=' + String.fromCharCode(event.keyCode).toLowerCase() + ']')\r\n\r\n          if (scrollElement.length !== 0) {\r\n            countryList.animate({scrollTop: scrollElement[0].offsetTop - 20}, 500)\r\n          }\r\n        }\r\n      })\r\n\r\n      if (!options.select && !options.search) {\r\n        $this.on('keypress', function (event) {\r\n          if (!(event.key.search(/[^0-9]/ig) === -1)) {\r\n            event.preventDefault()\r\n          } else {\r\n            $this.parent().removeClass('active')\r\n          }\r\n        })\r\n      }\r\n    }\r\n\r\n    createCountryList(options.flagInSelect)\r\n    let countryListItems = countryList.find('li')\r\n\r\n    if (options.flagInInput) {\r\n      wrapBlock.append('<div class=\"cntr-sl\"></div>')\r\n      $this.addClass('cntr-in-sl')\r\n\r\n      countryFlagsBlock = wrapBlock.find('.cntr-sl')\r\n      countryFlagsBlock.css('height', $this.height())\r\n      countryFlagsBlock.on('click', function () {\r\n        $(this).parent().toggleClass('active')\r\n      })\r\n    } else {\r\n      $this.on('click', function () {\r\n        $(this).parent().toggleClass('active')\r\n      })\r\n    }\r\n\r\n    body.on('click', function (event) {\r\n      if (wrapBlock.hasClass('active') && !wrapBlock.is(event.target) && wrapBlock.has(event.target).length === 0) {\r\n        wrapBlock.removeClass('active')\r\n      }\r\n    })\r\n\r\n    if (options.search || options.select) {\r\n      phoneInput = $this.closest('form').find('input[name=\"' + options.inputPhoneName + '\"]')\r\n      wrapBlock.append('<span class=\"cntr-arrow\"></span>')\r\n      let dropDownArrow = wrapBlock.find('.cntr-arrow')\r\n\r\n      dropDownArrow.on('click', function () {\r\n        $this.click()\r\n      })\r\n    }\r\n\r\n    if (options.search) {\r\n      $this.on('keyup', function (e) {\r\n        wrapBlock.removeClass('changed').addClass('active')\r\n\r\n        if ($this.val().length > 0) {\r\n          countryListItems.hide()\r\n          countryList.find('li[data-search^=\"' + $this.val().toLowerCase() + '\"]').show()\r\n        } else {\r\n          countryListItems.show()\r\n        }\r\n\r\n        if (e.originalEvent.keyCode === 13) {\r\n          $.each(countryListItems, function () {\r\n            if ($(this).css('display') !== 'none') {\r\n              $(this).click()\r\n              return false\r\n            }\r\n          })\r\n        }\r\n      })\r\n\r\n      $this.on('keypress', function (e) {\r\n        if (e.charCode === 13) {\r\n          return false\r\n        }\r\n      })\r\n\r\n      countryListItems.on('click', function () {\r\n        wrapBlock.removeClass('active')\r\n          .addClass('changed')\r\n        $this.val($(this).data('name'))\r\n        phoneInput.val($(this).data('phone')).attr('data-code', $(this).data('phone'))\r\n      })\r\n    } else if (options.select) {\r\n      countryListItems.on('click', function () {\r\n        wrapBlock.removeClass('active')\r\n          .addClass('changed')\r\n        $this.text($(this).data('name'))\r\n        countryInput.val($(this).data('name'))\r\n        phoneInput.val($(this).data('phone')).attr('data-code', $(this).data('phone'))\r\n      })\r\n    } else if (options.flagInInput) {\r\n      countryListItems.on('click', function () {\r\n        wrapBlock.removeClass('active')\r\n          .addClass('changed')\r\n        countryInput.val($(this).data('name'))\r\n        countryFlagsBlock.html('<span class=\"cntr-flag cntr-flag-' + $(this).data('code') + '\"></span>')\r\n        $this.addClass('cntr_check')\r\n          .val($(this).data('phone'))\r\n          .focus()\r\n      })\r\n\r\n      $this.on('keyup', function () {\r\n        if (!($this.val().search(/[^0-9]/ig) === 0) && $this.val().length > 0 && !$this.hasClass('cntr_check')) {\r\n          let countryFound = wrapBlock.find('.cntr-ls').find('li[data-phone|=' + $this.val() + ']')\r\n\r\n          if (countryFound.data('code') !== undefined) {\r\n            countryFlagsBlock.html('<span class=\"cntr-flag cntr-flag-' + countryFound.data('code') + '\"></span>')\r\n            countryInput.val(countryFound.data('name'))\r\n          }\r\n        }\r\n\r\n        if ($this.val().length < 1) {\r\n          $this.removeClass('cntr_check')\r\n        }\r\n      })\r\n    } else {\r\n      countryListItems.on('click', function () {\r\n        wrapBlock.removeClass('active')\r\n          .addClass('changed')\r\n        countryInput.val($(this).data('name'))\r\n        $this.val($(this).data('phone'))\r\n          .focus()\r\n      })\r\n    }\r\n\r\n    if (currentCountry === undefined || currentCountry === '') {\r\n      if (window.sessionStorage && sessionStorage.getItem('iso')) {\r\n        currentCountry = sessionStorage.getItem('iso')\r\n        wrapBlock.addClass('changed')\r\n        $this.addClass('cntr_check')\r\n        checkGeo()\r\n      } else {\r\n        $.ajax({\r\n          url: options.geo.url,\r\n          method: 'GET',\r\n          dataType: 'json',\r\n          error: function () {\r\n            if (options.flagInInput) {\r\n              countryFlagsBlock.html('<span class=\"cntr-flag cntr-flag-us\"></span>')\r\n              countryInput.val('United States')\r\n            }\r\n          },\r\n          success: function (response) {\r\n            let iso = options.geo.getIso(response)\r\n            currentCountry = iso.toLowerCase()\r\n            sessionStorage.setItem('iso', iso.toLowerCase())\r\n            wrapBlock.addClass('changed')\r\n            $this.addClass('cntr_check')\r\n            checkGeo()\r\n          }\r\n        })\r\n      }\r\n    } else {\r\n      wrapBlock.addClass('changed')\r\n      $this.addClass('cntr_check')\r\n      checkGeo()\r\n    }\r\n\r\n    if (body.prop('scrollHeight') - $this.offset().top < 360 && body.prop('scrollHeight') - $this.offset().top > 281) {\r\n      countryList.parent().addClass('cntr-middle')\r\n    } else if (body.prop('scrollHeight') - $this.offset().top < 280) {\r\n      countryList.parent().addClass('cntr-top')\r\n    }\r\n\r\n    function changeValue (element, attribute) {\r\n      element.val(countryList.find('li[data-code=\"' + currentCountry + '\"]').data(attribute))\r\n\r\n      if (attribute === 'phone') {\r\n        if (element.val() !== undefined && element.val() !== '' && element.val().length > 1) {\r\n          element.addClass('valid')\r\n            .attr('data-code', countryList.find('li[data-code=\"' + currentCountry + '\"]').data(attribute))\r\n        }\r\n      }\r\n    }\r\n\r\n    function checkGeo () {\r\n      if (options.flagInInput) {\r\n        countryFlagsBlock.html('<span class=\"cntr-flag cntr-flag-' + currentCountry + '\"></span>')\r\n        changeValue($this, 'phone')\r\n        changeValue(countryInput, 'name')\r\n      } else if (options.search) {\r\n        changeValue($this, 'name')\r\n        changeValue(phoneInput, 'phone')\r\n      } else if (options.select) {\r\n        $this.text(countryList.find('li[data-code=\"' + currentCountry + '\"]').data('name'))\r\n        changeValue(countryInput, 'name')\r\n        changeValue(phoneInput, 'phone')\r\n      } else {\r\n        changeValue($this, 'phone')\r\n        changeValue(countryInput, 'name')\r\n      }\r\n    }\r\n\r\n    function createCountryList (flag) {\r\n      if (options.list) {\r\n        $.each(options.countryAll, function (key, iso) {\r\n          $.each(allCountries, function (key, value) {\r\n            if (value['iso_code'].indexOf(iso) !== -1) {\r\n              addCountryListItem(value, flag)\r\n            }\r\n          })\r\n        })\r\n      } else if (options.delete) {\r\n        $.each(allCountries, function (key, iso) {\r\n          if (!checkForDelete(iso['iso_code'])) {\r\n            addCountryListItem(iso, flag)\r\n          }\r\n        })\r\n      } else {\r\n        for (let i = 0; i < allCountries.length; i++) {\r\n          addCountryListItem(allCountries[i], flag)\r\n        }\r\n      }\r\n    }\r\n\r\n    function checkForDelete (country) {\r\n      let check = false\r\n      $.each(options.countryAll, function (key, value) {\r\n        if (country.indexOf(value) !== -1) {\r\n          check = true\r\n        }\r\n      })\r\n      return check\r\n    }\r\n\r\n    function addCountryListItem (country, flag) {\r\n      let countryName = country['country']\r\n      let countryCode = country['iso_code']\r\n      let phoneCode = country['country_code']\r\n\r\n      if (flag) {\r\n        countryList.append('<li data-search=\"' + countryName.toLowerCase() + '\" data-name=\"' + countryName + '\" data-code=\"' + countryCode + '\" data-phone=\"' + phoneCode + '\"><span class=\"cntr-flag cntr-flag-' + countryCode + '\"></span>' + countryName + '</li>')\r\n      } else {\r\n        countryList.append('<li data-search=\"' + countryName.toLowerCase() + '\" data-name=\"' + countryName + '\" data-code=\"' + countryCode + '\" data-phone=\"' + phoneCode + '\">' + countryName + '</li>')\r\n      }\r\n    }\r\n  }\r\n})(jQuery)\r\n"],"sourceRoot":""}